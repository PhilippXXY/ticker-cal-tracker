@startuml class_diagram_application
title Ticker Calendar Tracker - Application Class Diagram

class User {
  +id: UUID
  +email: string
  +password: string
  +created_at: datetime
}

class Stock {
  +id: ISIN
  +ticker: string
  +name: string
  +last_updated: datetime
}

class Follow {
  +watchlist_id: UUID
  +stock_id: ISIN
  +created_at: datetime
}

enum EventType {
  EARNINGS
  DIVIDEND
  SPLIT
  MEETING
  OTHER
}

class StockEvent {
  +id: UUID
  +stock_id: ISIN
  +type: EventType
  +event_date: date
  +payload_json: json
  +fetched_at: datetime
  +source: string
}

class Watchlist {
  +id: UUID
  +user_id: UUID
  +name: string
  +url: string
  +created_at: datetime
  +include_earnings: bool
  +include_dividends: bool
  +include_splits: bool
  +include_meetings: bool
  +detail_level: string  // 'minimal'|'standard'|'rich'
  +default_reminder: datetime
}

class UserPreference {
  +user_id: UUID
  +default_detail_level: string
  +default_reminder: datetime
  +created_at: datetime
  +updated_at: datetime
}

Watchlist "1" -- "0..*" Follow
Stock "1" -- "0..*" Follow
Stock "1" -- "0..*" StockEvent
User "1" -- "1..*" Watchlist
User "1" -- "1" UserPreference
@enduml
