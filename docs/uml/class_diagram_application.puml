@startuml class_diagram_application
title Ticker Calendar Tracker - Application Class Diagram

class User {
  +id: UUID
  +email: string
  +password: string
  +created_at: datetime
}

class Stock {
  +ticker: string
  +name: string
  +last_updated: datetime
}

class Follow {
  +watchlist_id: UUID
  +stock_ticker: string
  +created_at: datetime
}

enum EventType {
  EARNINGS_ANNOUNCEMENT
  DIVIDEND_EX
  DIVIDEND_DECLARATION
  DIVIDEND_RECORD
  DIVIDEND_PAYMENT
  STOCK_SPLIT
}

class StockEvent {
  +id: UUID
  +stock_ticker: string
  +type: EventType
  +event_date: date
  +created_at: datetime
  +last_updated: datetime
  +source: string
}

class Watchlist {
  +id: UUID
  +user_id: UUID
  +name: string
  +calendar_token: string
  +created_at: datetime
}

class WatchlistSettings {
  +watchlist_id: UUID
  +include_earnings_announcement: bool
  +include_dividend_ex: bool
  +include_dividend_declaration: bool
  +include_dividend_record: bool
  +include_dividend_payment: bool
  +include_stock_split: bool
  +reminder_before: datetime
  +created_at: datetime
  +updated_at: datetime
}

class UserPreference {
  +user_id: UUID
  +default_reminder_before: datetime
  +created_at: datetime
  +updated_at: datetime
}

Watchlist "1" -- "0..*" Follow
Watchlist "1" -- "1" WatchlistSettings
Stock "1" -- "0..*" Follow
Stock "1" -- "0..*" StockEvent
User "1" -- "1..*" Watchlist
User "1" -- "1" UserPreference
@enduml
